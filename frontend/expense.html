<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expense Tracker</title>
    <link rel="stylesheet" href="./css/expense.css" />
  </head>

  <body>
    <header class="top-bar">
      <a href="./index.html">
        <h1>Expense Tracker</h1>
      </a>
      <div class="header-buttons">
        <button id="premium-btn" class="btn premium-btn">
          Upgrade to Premium
        </button>
        <button id="logout-btn" class="btn logout-btn">Logout</button>
      </div>
    </header>
    <div class="container">
      <h1>Expense & Income Dashboard</h1>

      <!-- Only for all users -->
      <button id="downloadBtn" class="disabled" disabled>
        Download Expenses
      </button>
      <div id="downloadResult" class="download-result"></div>

      <button id="toggleDashboardBtn" class="disabled" disabled>
        Show Expense Dashboard
      </button>

      <!-- Full dashboard -->
      <div id="full-dashboard" style="display: none">
        <!-- Filters -->
        <div class="filters">
          <label for="filter">View:</label>
          <select id="filter">
            <option value="all">All</option>
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
            <option value="monthly">Monthly</option>
          </select>
        </div>

        <!-- Summary -->
        <div class="summary">
          <div class="card">
            <h3>Total Expense</h3>
            <p id="totalExpense">â‚¹0</p>
          </div>
        </div>

        <!-- Table Section -->
        <table id="transactionTable">
          <thead>
            <tr>
              <th>Date</th>
              <th>Description</th>
              <th>Category</th>
              <th>Type</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody id="transactionBody"></tbody>
        </table>
        <div id="pagination" class="pagination">
          <button id="prevPage">Previous</button>
          <span id="pageInfo">Page 1 of 1</span>
          <button id="nextPage">Next</button>
        </div>
        <div class="pagination-controls">
          <label for="pageSize">Expenses per page:</label>
          <select id="pageSize">
            <option value="2">2</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
          </select>
        </div>
      </div>
    </div>

    <main>
      <section class="expense-container">
        <div class="expense-form">
          <h2>Add Expense</h2>
          <form id="expense-form">
            <input
              type="number"
              id="amount"
              placeholder="Amount"
              required
            /><br />
            <input
              type="text"
              id="description"
              placeholder="Description"
              required
            /><br />
            <select id="category">
              <option value="" disabled selected>
                Select Category(Optional)
              </option>
              <option value="Food">Food</option>
              <option value="Travel">Travel</option>
              <option value="Shopping">Shopping</option>
              <option value="Entertainment">Entertainment</option>
              <option value="Health">Health</option>
              <option value="Bills">Bills</option>
              <option value="Groceries">Groceries</option>
              <option value="Recharge">Recharge</option>
              <option value="Education">Education</option>
              <option value="Other">Other</option>
            </select>
            <br />
            <button type="submit">Add Expense</button>
          </form>
        </div>

        <div class="expense-list">
          <h3>Your Expenses</h3>
          <ul id="expense-list"></ul>
        </div>

        <button id="leaderboard-btn" style="display: none">
          Show Leaderboard
        </button>
        <div id="leaderboard-container" style="display: none">
          <h3>Leaderboard</h3>
          <ul id="leaderboard-list"></ul>
        </div>
      </section>
    </main>

    <!-- Cashfree JS SDK v3 -->
    <script src="https://sdk.cashfree.com/js/v3/cashfree.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./js/expense.js"></script>
  </body>
</html>
